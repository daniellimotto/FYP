<!DOCTYPE html>
<html>
<head>
    <title>Create Task</title>
    <link rel="stylesheet" href="/css/tasks.css">
</head>
<body>
    <div class="container">
        <h1>Create a New Task</h1>
        <form th:action="@{/tasks/create/{projectId}(projectId=${projectId})}" method="post">
            <input type="hidden" name="projectId" th:value="${projectId}">

            <label for="title">Task Title:</label>
            <input type="text" id="title" name="title" required>

            <label for="description">Task Description:</label>
            <textarea id="description" name="description" required></textarea>

            <label for="dueDate">Due Date:</label>
            <input type="date" id="dueDate" name="dueDate" required>

            <label for="assignedTo">Assign To:</label>
            <select id="assignedTo" name="assignedTo" required>
                <option value="">-- Select a user --</option>
                <option th:each="user : ${users}" 
                        th:value="${user.id}" 
                        th:text="${user.email}">
                </option>
            </select>

            <button type="submit">Create Task</button>
        </form>

        <a th:href="@{/projects/{projectId}(projectId=${projectId})}">Back to Project</a>
    </div>
</body>
</html>
